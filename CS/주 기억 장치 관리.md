> 작성일 2022/10/31 ~ 2022/10/31

<br>

# 주 기억 장치 관리

## 반입 기법

반입 기법이란 보조 장치에 저장되어 있는 프로그램이나 데이터를 언제 주 기억 장치로 가져올 것인지 결정하는 것을 말한다

반입에 기법은 크게 2가지로 

* 요구 반입 (demand fetch)
  + 요구 반입은 실행중인 프로그램이 보조 기억 장치에 있는 특정 프로그램이나 데이터등의 참조를 요구할 때 주 기억 장치로 가져오는 기법이다

* 예상 반입 (anticipatory fetch)
 + 예상 반입은 실행중인 프로그램에 의해 참조될 보조 기억 장치에 있는 특정 프로그램이나 데이터를 예상하여 미리 가져오는 기법이다

## 배치 기법

배치 기법은 보조 기억 장치로부터 가져온 프로그램이나 데이터를 주 기억 장치의 어느 위치에 저장할 것인가 결정하는 방법을 말한다

방법은 크게 3가지로 나눠지며

1. 최초 적합
    * 최초 적합 전략은 저장할 프로그램이나 데이터의 크기보다 큰 최초의 영역에 배치하는 기법이다

2. 최적 적합
    * 최적 적합 전략은 저장할 프로그램이나 데이터의 크기와 가장 유사한 영역에 배치하는 기법을 말한다

3. 최악 적합
    * 최악 적합 전략은 저장할 프로그램이나 데이터의 크기가 들어갈 수 있는 영역 중 가장 큰 영역에 배치하는 기법을 말한다

## 주 기억 장치 교체 기법
프로그램이나 데이터가 필요에 의해 주 기억 장치에 배치되어야 하는데 만약 배치할 수 있는 공간이 없다면 운영체제는 이미 사용되고 있는 영역 중에서 어느 영역을 교체하여 사용할 지 결정하는 기법이 필요하다 

대표적인 교체 기법으로는

1. FIFO (First In First Out)
    * FIFO는 이미 사용되고 있는 영역 중 주 기억 장치에 배치된 시간이 가장 오래된 영역을 교체하는 기법이다

2. LRU (Least Recently Used)
    * LRU는 이미 사용되고 있는 영역 중 주 기억 장치에 배치된 다음 가장 오래동안 사용되지 않는 영역을 교체하는 기법이다

3. LFU (Least Frequently Used)
    * LFU는 이미 사용되고 있는 영역 중 주 기억 장치에 배치된 다음 가장 사용된 횟수가 적은 영역을 교체하는 전략이다 다만 주 기억 장치에 접근할 때마다 그 횟수를 저장해야 한다

가 있다

## 단편화

단편화는 기억 장치의 빈 공간 또는 데이터가 여러 조각으로 나뉘는 현상을 말하며 단편화가 생기면 기억 장치의 사용 가능한 저장 공간이 줄어들게 되며 내용을 가져오고 저장하는 속도가 늦어지는 문제점이 발생한다

단편화의 종류로는 크게 두가지가 있는데

* 내부 단편화
    + 내부 단편화는 필요한 크기에 비해 실제 배정된 공간의 크기가 커서 해당 공간 내에서 사용하지 않는 부분이 있을 때 발생한다
* 외부 단편화
    + 외부 단편화는 필요한 크기에 비해서 실제 배정받을 수 있는 저장 가능 공간이 작아서 사용되지 않는 부분이 있을 때 발생한다

가 존재한다

## 단편화 해결

단편화를 해결하려면 단편화가 된 공간을 모아서 사용할 수 있는 공간으로 만들어야 하며 단편화를 해결하는 방법은 크게 통합 기법과 압축 기법이 있다

* 통합 기법
    + 통합 기법은 4개의 배정된 공간 중에서 가운데 2개의 공간이 사용할 수 있는 공간이 되었다면 인접한 2개의 공간을 합쳐 하나의 공간으로 만드는 것처럼 인접해 있는 단편화된 공간을 하나의 공간으로 만드는 것을 말한다 
* 압축 기법
    + 압축 기법은 배정된 공간들을 가능한 인접할 수 있도록 이동시 남아 있는 공간을 가능한 크게 만드는 방법으로 단편화된 빈 공간을 결합하여 사용할 수 있는 큰 공간으로 만드는 것을 말한다
